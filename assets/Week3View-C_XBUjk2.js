import{r as u,i as w,c as i,a as t,F as p,b as _,d as v,t as s,w as m,v as y,o as c,j as I,k as V}from"./index-CXYtL2ot.js";const g={class:"week3"},T=t("h1",null,"W3-餐點管理工具",-1),$={id:"root"},C={class:"container mt-5"},j={class:"row"},B={class:"col-md-4"},D={class:"list-group"},N=["onClick"],R={class:"list-group-item list-group-item-action"},S={class:"d-flex w-100 justify-content-between"},U={class:"mb-1"},E={class:"mb-1"},F={class:"col-md-8"},L={class:"table"},M=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1),Q=["onUpdate:modelValue"],W=V('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),P=[W],q={class:"text-end mb-3"},z=t("span",null,null,-1),A={class:"text-end"},G=["disabled"],H=t("hr",null,null,-1),J={class:"row justify-content-center"},K={class:"col-8"},O={class:"card"},X={class:"card-body"},Y={class:"card-title"},Z=t("h5",null,"訂單",-1),tt={class:"table"},et=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1),ot={class:"text-end"},st=t("span",null,null,-1),nt={class:"text-end"},dt={__name:"Week3View",setup(lt){const b=u([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),n=u([]),k=l=>{const o=n.value.find(e=>e.id===l.id);if(o){const e=n.value.findIndex(a=>a.id===l.id);o.count<10?n.value[e].count+=1:n.value[e].count+=0}else n.value.push({...l,count:1})},h=w(()=>{let l=0;return n.value.forEach(o=>{l+=o.price*o.count}),l}),f=l=>{const o=n.value.findIndex(e=>e.id===l.id);n.value.splice(o,1)},r=u(),d=u({drinkItems:"",drinkRemark:"",drinkTotal:""}),x=(l,o,e)=>{d.value.drinkItems=[...l],d.value.drinkRemark=o,d.value.drinkTotal=e};return(l,o)=>(c(),i("div",g,[T,t("div",$,[t("div",C,[t("div",j,[t("div",B,[t("div",D,[(c(!0),i(p,null,_(b.value,e=>(c(),i("div",{key:e.id,onClick:a=>k(e)},[t("div",R,[t("div",S,[t("h5",U,s(e.name),1),t("small",null,"$"+s(e.price),1)]),t("p",E,s(e.description),1)])],8,N))),128))])]),t("div",F,[t("table",L,[M,t("tbody",null,[(c(!0),i(p,null,_(n.value,e=>(c(),i("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:f},"x")]),t("td",null,s(e.name),1),t("td",null,[t("small",null,s(e.description),1)]),t("td",null,[m(t("select",{class:"form-select","onUpdate:modelValue":a=>e.count=a},P,8,Q),[[I,e.count]])]),t("td",null,"$"+s(e.price),1),t("td",null,"$"+s(e.price*e.count),1)]))),128))])]),t("div",q,[t("h5",null,[v("總計: "+s(h.value),1),z])]),m(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e)},null,512),[[y,r.value]]),t("div",A,[t("button",{class:"btn btn-primary",disabled:n.value.length<1,onClick:o[1]||(o[1]=e=>x(n.value,r.value,h.value))},"送出",8,G)])])]),H,t("div",J,[t("div",K,[t("div",O,[t("div",X,[t("div",Y,[Z,t("table",tt,[et,t("tbody",null,[(c(!0),i(p,null,_(d.value.drinkItems,e=>(c(),i("tr",{key:e.id},[t("td",null,s(e.name),1),t("td",null,s(e.count),1),t("td",null,s(e.price*e.count),1)]))),128))])]),t("div",ot,[v("備註: "+s(d.value.drinkRemark),1),st]),t("div",nt,[t("h5",null,[v("總計: "),t("span",null,"$"+s(d.value.drinkTotal),1)])])])])])])])])])]))}};export{dt as default};
