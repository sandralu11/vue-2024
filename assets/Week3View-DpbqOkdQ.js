import{r,i as y,c as i,a as t,F as _,b as p,d as h,t as s,w as m,v as w,o as c,j as g,k as I}from"./index-DRhj0ykb.js";const V={class:"week3"},$=t("h1",null,"W3-餐點管理工具",-1),T={id:"root"},C={class:"container mt-5"},j={class:"row"},B={class:"col-md-4"},D={class:"list-group"},N=["onClick"],R={class:"list-group-item list-group-item-action"},S={class:"d-flex w-100 justify-content-between"},U={class:"mb-1"},E={class:"mb-1"},F={class:"col-md-8"},L={class:"table"},M=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1),Q=["onUpdate:modelValue"],W=I('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),P=[W],q={key:0},z={class:"text-end mb-3"},A=t("span",null,null,-1),G={class:"text-end"},H=["disabled"],J={key:1},K=t("div",{class:"alert alert-info text-center",role:"alert"},"請選擇商品",-1),O=[K],X=t("hr",null,null,-1),Y={class:"row justify-content-center"},Z={class:"col-8"},tt={key:0,class:"card"},et={class:"card-body"},ot={class:"card-title"},st=t("h5",null,"訂單",-1),nt={class:"table"},lt=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1),it={class:"text-end"},ct=t("span",null,null,-1),dt={class:"text-end"},at={key:1},rt=t("div",{class:"alert alert-light text-center",role:"alert"},"尚未建立訂單",-1),ut=[rt],vt={__name:"Week3View",setup(_t){const k=r([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),n=r([]),b=l=>{const o=n.value.find(e=>e.id===l.id);if(o){const e=n.value.findIndex(a=>a.id===l.id);o.count<10?n.value[e].count+=1:n.value[e].count+=0}else n.value.push({...l,count:1})},v=y(()=>{let l=0;return n.value.forEach(o=>{l+=o.price*o.count}),l}),f=l=>{const o=n.value.findIndex(e=>e.id===l.id);n.value.splice(o,1)},u=r(),d=r({drinkItems:"",drinkRemark:"",drinkTotal:""}),x=(l,o,e)=>{d.value.drinkItems=[...l],d.value.drinkRemark=o,d.value.drinkTotal=e};return(l,o)=>(c(),i("div",V,[$,t("div",T,[t("div",C,[t("div",j,[t("div",B,[t("div",D,[(c(!0),i(_,null,p(k.value,e=>(c(),i("div",{key:e.id,onClick:a=>b(e)},[t("div",R,[t("div",S,[t("h5",U,s(e.name),1),t("small",null,"$"+s(e.price),1)]),t("p",E,s(e.description),1)])],8,N))),128))])]),t("div",F,[t("table",L,[M,t("tbody",null,[(c(!0),i(_,null,p(n.value,e=>(c(),i("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:f},"x")]),t("td",null,s(e.name),1),t("td",null,[t("small",null,s(e.description),1)]),t("td",null,[m(t("select",{class:"form-select","onUpdate:modelValue":a=>e.count=a},P,8,Q),[[g,e.count]])]),t("td",null,"$"+s(e.price),1),t("td",null,"$"+s(e.price*e.count),1)]))),128))])]),n.value.length>=1?(c(),i("div",q,[t("div",z,[t("h5",null,[h("總計: "+s(v.value),1),A]),m(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e)},null,512),[[w,u.value]]),t("div",G,[t("button",{class:"btn btn-primary",disabled:n.value.length<1,onClick:o[1]||(o[1]=e=>x(n.value,u.value,v.value))}," 送出 ",8,H)])])])):(c(),i("div",J,O))])]),X,t("div",Y,[t("div",Z,[d.value.drinkItems.length>=1?(c(),i("div",tt,[t("div",et,[t("div",ot,[st,t("table",nt,[lt,t("tbody",null,[(c(!0),i(_,null,p(d.value.drinkItems,e=>(c(),i("tr",{key:e.id},[t("td",null,s(e.name),1),t("td",null,s(e.count),1),t("td",null,"$"+s(e.price*e.count),1)]))),128))])]),t("div",it,[h("備註: "+s(d.value.drinkRemark),1),ct]),t("div",dt,[t("h5",null,[h(" 總計: "),t("span",null,"$"+s(d.value.drinkTotal),1)])])])])])):(c(),i("div",at,ut))])])])])]))}};export{vt as default};
