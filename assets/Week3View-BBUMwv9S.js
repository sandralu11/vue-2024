import{o as c,c as l,a as e,t as d,F as _,i as w,r as k,j as N,b as x,d as f,w as C,v as I,k as g}from"./index-DzOr4TyH.js";const D={class:"list-group-item list-group-item-action"},S={class:"d-flex w-100 justify-content-between"},T={class:"mb-1"},V={class:"mb-1"},W={__name:"W3Drink",props:{name:String,price:Number,description:String},setup(n){return(h,r)=>(c(),l("div",D,[e("div",S,[e("h5",T,d(n.name),1),e("small",null,"$"+d(n.price),1)]),e("p",V,d(n.description),1)]))}},B=["value"],F=w('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),R=[F],j={__name:"W3Temp",props:{name:String,price:Number,description:String,count:Number,deleteDrink:Function,index:Number},emits:["change-count"],setup(n,{emit:h}){const r=n,o=h,b=u=>{o("change-count",{count:u.target.value,index:r.index})};return(u,v)=>(c(),l(_,null,[e("td",null,[e("button",{type:"button",class:"btn btn-sm",onClick:v[0]||(v[0]=(...p)=>n.deleteDrink&&n.deleteDrink(...p))},"x")]),e("td",null,d(n.name),1),e("td",null,[e("small",null,d(n.description),1)]),e("td",null,[e("select",{class:"form-select",value:n.count,onChange:b},R,40,B)]),e("td",null,"$"+d(n.price),1),e("td",null,"$"+d(n.price*n.count),1)],64))}},E={__name:"w3Order",props:{name:String,price:Number,count:Number},setup(n){return(h,r)=>(c(),l(_,null,[e("td",null,d(n.name),1),e("td",null,d(n.count),1),e("td",null,"$"+d(n.price*n.count),1)],64))}},L={class:"week3"},Q=e("h1",null,"W3-餐點管理工具",-1),M={id:"root"},P={class:"container mt-5"},U={class:"row"},q={class:"col-md-4"},z={class:"list-group"},A=["onClick"],G={class:"col-md-8"},H={class:"table"},J=e("thead",null,[e("tr",null,[e("th",{scope:"col",width:"50"},"操作"),e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計")])],-1),K={key:0},O={class:"text-end mb-3"},X=e("span",null,null,-1),Y={class:"text-end"},Z=["disabled"],ee={key:1},te=e("div",{class:"alert alert-info text-center",role:"alert"},"請選擇商品",-1),ne=[te],oe=e("hr",null,null,-1),ie={class:"row justify-content-center"},se={class:"col-8"},ce={key:0,class:"card"},le={class:"card-body"},de={class:"card-title"},ae=e("h5",null,"訂單",-1),re={class:"table"},ue=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1),pe={class:"text-end"},_e=e("span",null,null,-1),he={class:"text-end"},ve={key:1},me=e("div",{class:"alert alert-light text-center",role:"alert"},"尚未建立訂單",-1),ke=[me],xe={__name:"Week3View",setup(n){const r=k([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),o=k([]),b=i=>{const s=o.value.find(t=>t.id===i.id);if(s){const t=o.value.findIndex(m=>m.id===i.id);s.count<10?o.value[t].count+=1:o.value[t].count+=0}else o.value.push({...i,count:1})},u=N(()=>{let i=0;return o.value.forEach(s=>{i+=s.price*s.count}),i}),v=i=>{const s=o.value.findIndex(t=>t.id===i.id);o.value.splice(s,1)},p=k(),a=k({drinkItems:"",drinkRemark:"",drinkTotal:""}),$=(i,s,t)=>{a.value.drinkItems=[...i],a.value.drinkRemark=s,a.value.drinkTotal=t,o.value=[]},y=i=>{o.value[i.index].count=i.count};return(i,s)=>(c(),l("div",L,[Q,e("div",M,[e("div",P,[e("div",U,[e("div",q,[e("div",z,[(c(!0),l(_,null,x(r.value,t=>(c(),l("div",{key:t.id,onClick:m=>b(t)},[g(W,{name:t.name,price:t.price,description:t.description},null,8,["name","price","description"])],8,A))),128))])]),e("div",G,[e("table",H,[J,e("tbody",null,[(c(!0),l(_,null,x(o.value,(t,m)=>(c(),l("tr",{key:t.id},[g(j,{name:t.name,price:t.price,description:t.description,count:t.count,deleteDrink:v,index:m,onChangeCount:y},null,8,["name","price","description","count","index"])]))),128))])]),o.value.length>=1?(c(),l("div",K,[e("div",O,[e("h5",null,[f("總計: "+d(u.value),1),X]),C(e("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t)},null,512),[[I,p.value]]),e("div",Y,[e("button",{class:"btn btn-primary",disabled:o.value.length<1,onClick:s[1]||(s[1]=t=>$(o.value,p.value,u.value))}," 送出 ",8,Z)])])])):(c(),l("div",ee,ne))])]),oe,e("div",ie,[e("div",se,[a.value.drinkItems.length>=1?(c(),l("div",ce,[e("div",le,[e("div",de,[ae,e("table",re,[ue,e("tbody",null,[(c(!0),l(_,null,x(a.value.drinkItems,t=>(c(),l("tr",{key:t.id},[g(E,{name:t.name,count:t.count,price:t.price},null,8,["name","count","price"])]))),128))])]),e("div",pe,[f("備註: "+d(a.value.drinkRemark),1),_e]),e("div",he,[e("h5",null,[f(" 總計: "),e("span",null,"$"+d(a.value.drinkTotal),1)])])])])])):(c(),l("div",ve,ke))])])])])]))}};export{xe as default};
