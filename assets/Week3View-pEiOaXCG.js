import{o as l,c,a as e,t as d,F as m,i as w,r as v,j as C,b as x,d as f,w as I,v as D,k as g}from"./index-B8lBblGm.js";const N={class:"list-group-item list-group-item-action"},T={class:"d-flex w-100 justify-content-between"},S={class:"mb-1"},V={class:"mb-1"},W={__name:"W3Drink",props:{name:String,price:Number,description:String},setup(o){return(k,p)=>(l(),c("div",N,[e("div",T,[e("h5",S,d(o.name),1),e("small",null,"$"+d(o.price),1)]),e("p",V,d(o.description),1)]))}},B=["value"],F=w('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),R=[F],j={__name:"W3Temp",props:{name:String,price:Number,description:String,count:Number,deleteDrink:Function,index:Number},emits:["change-count"],setup(o,{emit:k}){const p=o,n=k,b=r=>{n("change-count",{count:r.target.value,index:p.index})};return(r,_)=>(l(),c(m,null,[e("td",null,[e("button",{type:"button",class:"btn btn-sm",onClick:_[0]||(_[0]=(...u)=>o.deleteDrink&&o.deleteDrink(...u))},"x")]),e("td",null,d(o.name),1),e("td",null,[e("small",null,d(o.description),1)]),e("td",null,[e("select",{class:"form-select",value:o.count,onChange:b},R,40,B)]),e("td",null,"$"+d(o.price),1),e("td",null,"$"+d(o.price*o.count),1)],64))}},E={class:"week3"},L=e("h1",null,"W3-餐點管理工具",-1),Q={id:"root"},M={class:"container mt-5"},P={class:"row"},U={class:"col-md-4"},q={class:"list-group"},z=["onClick"],A={class:"col-md-8"},G={class:"table"},H=e("thead",null,[e("tr",null,[e("th",{scope:"col",width:"50"},"操作"),e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計")])],-1),J={key:0},K={class:"text-end mb-3"},X=e("span",null,null,-1),Y={class:"text-end"},Z=["disabled"],O={key:1},ee=e("div",{class:"alert alert-info text-center",role:"alert"},"請選擇商品",-1),te=[ee],ne=e("hr",null,null,-1),oe={class:"row justify-content-center"},se={class:"col-8"},ie={key:0,class:"card"},le={class:"card-body"},ce={class:"card-title"},de=e("h5",null,"訂單",-1),ae={class:"table"},re=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1),ue={class:"text-end"},pe=e("span",null,null,-1),_e={class:"text-end"},he={key:1},ve=e("div",{class:"alert alert-light text-center",role:"alert"},"尚未建立訂單",-1),me=[ve],be={__name:"Week3View",setup(o){const p=v([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),n=v([]),b=s=>{const i=n.value.find(t=>t.id===s.id);if(i){const t=n.value.findIndex(h=>h.id===s.id);i.count<10?n.value[t].count+=1:n.value[t].count+=0}else n.value.push({...s,count:1})},r=C(()=>{let s=0;return n.value.forEach(i=>{s+=i.price*i.count}),s}),_=s=>{const i=n.value.findIndex(t=>t.id===s.id);n.value.splice(i,1)},u=v(),a=v({drinkItems:"",drinkRemark:"",drinkTotal:""}),$=(s,i,t)=>{a.value.drinkItems=[...s],a.value.drinkRemark=i,a.value.drinkTotal=t,n.value=[]},y=s=>{n.value[s.index].count=s.count};return(s,i)=>(l(),c("div",E,[L,e("div",Q,[e("div",M,[e("div",P,[e("div",U,[e("div",q,[(l(!0),c(m,null,x(p.value,t=>(l(),c("div",{key:t.id,onClick:h=>b(t)},[g(W,{name:t.name,price:t.price,description:t.description},null,8,["name","price","description"])],8,z))),128))])]),e("div",A,[e("table",G,[H,e("tbody",null,[(l(!0),c(m,null,x(n.value,(t,h)=>(l(),c("tr",{key:t.id},[g(j,{name:t.name,price:t.price,description:t.description,count:t.count,deleteDrink:_,index:h,onChangeCount:y},null,8,["name","price","description","count","index"])]))),128))])]),n.value.length>=1?(l(),c("div",J,[e("div",K,[e("h5",null,[f("總計: "+d(r.value),1),X]),I(e("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":i[0]||(i[0]=t=>u.value=t)},null,512),[[D,u.value]]),e("div",Y,[e("button",{class:"btn btn-primary",disabled:n.value.length<1,onClick:i[1]||(i[1]=t=>$(n.value,u.value,r.value))}," 送出 ",8,Z)])])])):(l(),c("div",O,te))])]),ne,e("div",oe,[e("div",se,[a.value.drinkItems.length>=1?(l(),c("div",ie,[e("div",le,[e("div",ce,[de,e("table",ae,[re,e("tbody",null,[(l(!0),c(m,null,x(a.value.drinkItems,t=>(l(),c("tr",{key:t.id},[e("td",null,d(t.name),1),e("td",null,d(t.count),1),e("td",null,"$"+d(t.price*t.count),1)]))),128))])]),e("div",ue,[f("備註: "+d(a.value.drinkRemark),1),pe]),e("div",_e,[e("h5",null,[f(" 總計: "),e("span",null,"$"+d(a.value.drinkTotal),1)])])])])])):(l(),c("div",he,me))])])])])]))}};export{be as default};
